//************************************************************************************************************
const ShortCloud = function() {
    let self = this;
    self.contexts = [];
    
    //--------------------------------------------------------------------------------------------------------
    self.push = function(context) {
        self.contexts.push(context);
    }
    
    //--------------------------------------------------------------------------------------------------------
    self.pop = function() {
        // The final context is the closing of the whole chain.
        if(self.contexts.length !== 1) self.contexts.pop();
    }
    
    //--------------------------------------------------------------------------------------------------------
    self.context = function(offset=0) {
        return self.contexts[self.length - 1 - offset];
    }
    
    //--------------------------------------------------------------------------------------------------------
    self.output = function() {
        return self.contexts[0];
    }
}

//************************************************************************************************************
const ShortLayerContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortLayersContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortMappingContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortBitCharContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortExactCharContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortSwitchCharContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortValueCharContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortNetworkContext = function() {
    let self = this;
    self.info = {};
    
    //--------------------------------------------------------------------------------------------------------
    self.to_expression = function() {
        
    }
}

//************************************************************************************************************
const ShortChain = function(cloud, properties) {
    let self = this;
    
    let entries = Object.entries(properties);
    for(let i = 0, l = entries.length; i < l; ++i) {
        let entry = entries[i];
        // The entry get function can use the 'cloud' variable from this scope.
        Object.defineProperty(self, entry[0], { get : entry[1] });
    }
}
